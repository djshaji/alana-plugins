
// 12au7 table generated by DK/tube_table_gen.py -- do not modify manually

struct table1d { // 1-dimensional function table
    float low;
    float high;
    float istep;
    int size;
    float data[];
};

template <int tab_size>
struct table1d_imp {
    float low;
    float high;
    float istep;
    int size;
    float data[tab_size];
    operator table1d&() const { return *(table1d*)this; }
};

static table1d_imp<200> tube_table __rt_data = {
	0.0,0.79947,211.4547,200, {
	0.000000000000,0.006478392184,0.013253293175,0.020338140266,0.027746185815,
	0.035490245145,0.043582386922,0.052033560579,0.060853156828,0.070048500233,
	0.079624277124,0.089581907956,0.099918880702,0.110628070678,0.121697081926,
	0.133107654791,0.144835192398,0.156848463446,0.169109538362,0.181574008731,
	0.194191525178,0.206906666746,0.219660127488,0.232390175302,0.245034310437,
	0.257531027488,0.269821572620,0.281851585429,0.293572525387,0.304942802897,
	0.315928562136,0.326504093080,0.336651879684,0.346362316858,0.355633148450,
	0.364468690874,0.372878912057,0.380878433954,0.388485520320,0.395721101012,
	0.402607872182,0.409169499068,0.415429936448,0.421412871723,0.427141287645,
	0.432637135921,0.437921109292,0.443012497748,0.447929114127,0.452687274891,
	0.457301823134,0.461786182489,0.466152432388,0.470411396863,0.474572740734,
	0.478645068437,0.482636022001,0.486552375689,0.490400125635,0.494184573451,
	0.497910403262,0.501581751981,0.505202272917,0.508775192938,0.512303363585,
	0.515789306552,0.519235253996,0.522643184164,0.526014852779,0.529351820646,
	0.532655477875,0.535927065120,0.539167692158,0.542378354153,0.545559945854,
	0.548713274011,0.551839068204,0.554937990308,0.558010642747,0.561057575701,
	0.564079293401,0.567076259627,0.570048902504,0.572997618701,0.575922777096,
	0.578824721988,0.581703775901,0.584560242044,0.587394406468,0.590206539951,
	0.592996899659,0.595765730602,0.598513266910,0.601239732962,0.603945344375,
	0.606630308877,0.609294827077,0.611939093143,0.614563295404,0.617167616879,
	0.619752235748,0.622317325769,0.624863056643,0.627389594349,0.629897101430,
	0.632385737253,0.634855658242,0.637307018086,0.639739967915,0.642154656477,
	0.644551230272,0.646929833697,0.649290609156,0.651633697169,0.653959236469,
	0.656267364091,0.658558215445,0.660831924390,0.663088623300,0.665328443117,
	0.667551513410,0.669757962419,0.671947820491,0.674120932762,0.676277674207,
	0.678418231112,0.680542750665,0.682651366934,0.684744207423,0.686821395631,
	0.688883052268,0.690929295929,0.692960243481,0.694976010318,0.696976710528,
	0.698962457010,0.700933361557,0.702889534920,0.704831086857,0.706758126171,
	0.708670760741,0.710569097545,0.712453242683,0.714323301397,0.716179378083,
	0.718021576306,0.719849998814,0.721664747547,0.723465923651,0.725253627481,
	0.727027958617,0.728789015866,0.730536897274,0.732271700134,0.733993520989,
	0.735702455642,0.737398599163,0.739082045892,0.740752889450,0.742411222742,
	0.744057137963,0.745690726606,0.747312079465,0.748921286642,0.750518437552,
	0.752103620930,0.753676924836,0.755238436655,0.756788243112,0.758326430268,
	0.759853083532,0.761368287659,0.762872126762,0.764364684313,0.765846043148,
	0.767316285473,0.768775492868,0.770223746293,0.771661126090,0.773087711990,
	0.774503583118,0.775908817995,0.777303494545,0.778687690098,0.780061481395,
	0.781424944594,0.782778155270,0.784121188426,0.785454118489,0.786777019323,
	0.788089964227,0.789393025942,0.790686276654,0.791969788000,0.793243631070,
	0.794507876411,0.795762594035,0.797007853417,0.798243723505,0.799470272719
	}
};

double always_inline tubeclip(double x) {
    double f = fabs(x);
    f = f * tube_table.istep;
    int i = static_cast<int>(f);
    if (i < 0) {
        f = tube_table.data[0];
    } else if (i >= tube_table.size-1) {
        f = tube_table.data[tube_table.size-1];
    } else {
    f -= i;
    f = tube_table.data[i]*(1-f) + tube_table.data[i+1]*f;
    }
    return copysign(f, x);
}

