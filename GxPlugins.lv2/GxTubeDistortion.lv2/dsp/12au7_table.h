
// 12au7 table generated by DK/tube_table_gen.py -- do not modify manually

struct table1d { // 1-dimensional function table
    float low;
    float high;
    float istep;
    int size;
    float data[];
};

template <int tab_size>
struct table1d_imp {
    float low;
    float high;
    float istep;
    int size;
    float data[tab_size];
    operator table1d&() const { return *(table1d*)this; }
};
static table1d_imp<200> tube_table __rt_data = {
	0,0.880571,55,200, {
	0.000000000000,0.016750418760,0.033500837521,0.050251256281,0.067001675042,
	0.083752093802,0.100502512563,0.117252931323,0.134003350084,0.150753768844,
	0.167504187605,0.184254606365,0.201005025126,0.217755443886,0.234505862647,
	0.251256281407,0.268006700168,0.284757118928,0.301507537688,0.318257956449,
	0.335008375209,0.351758793970,0.368509212730,0.385259631491,0.402010050251,
	0.418760469012,0.435510887772,0.452261306533,0.469011725293,0.485762144054,
	0.502512562814,0.519262981575,0.536013400335,0.552763819095,0.569514237856,
	0.586264656616,0.593999365915,0.599005700058,0.603333878092,0.607267980657,
	0.610930403272,0.614388585430,0.617684834322,0.620847956424,0.623898713479,
	0.626852710073,0.629722059392,0.632516408598,0.635243602944,0.637910133907,
	0.640521451968,0.643082191206,0.645596334502,0.648067337630,0.650498224157,
	0.652891659201,0.655250007565,0.657575380145,0.659869671394,0.662134589886,
	0.664371683478,0.666582360199,0.668767905735,0.670929498165,0.673068220463,
	0.675185071166,0.677280973536,0.679356783465,0.681413296334,0.683451252980,
	0.685471344926,0.687474218971,0.689460481240,0.691430700768,0.693385412682,
	0.695325121033,0.697250301337,0.699161402840,0.701058850561,0.702943047129,
	0.704814374447,0.706673195193,0.708519854182,0.710354679615,0.712177984199,
	0.713990066189,0.715791210325,0.717581688703,0.719361761564,0.721131678031,
	0.722891676777,0.724641986646,0.726382827231,0.728114409400,0.729836935788,
	0.731550601256,0.733255593312,0.734952092506,0.736640272797,0.738320301896,
	0.739992341580,0.741656547999,0.743313071948,0.744962059131,0.746603650406,
	0.748237982013,0.749865185791,0.751485389382,0.753098716418,0.754705286704,
	0.756305216386,0.757898618110,0.759485601172,0.761066271663,0.762640732600,
	0.764209084056,0.765771423280,0.767327844807,0.768878440572,0.770423300008,
	0.771962510148,0.773496155712,0.775024319196,0.776547080961,0.778064519305,
	0.779576710544,0.781083729079,0.782585647471,0.784082536500,0.785574465234,
	0.787061501083,0.788543709858,0.790021155826,0.791493901762,0.792962008997,
	0.794425537468,0.795884545762,0.797339091160,0.798789229679,0.800235016113,
	0.801676504067,0.803113746001,0.804546793259,0.805975696107,0.807400503763,
	0.808821264430,0.810238025325,0.811650832709,0.813059731915,0.814464767373,
	0.815865982638,0.817263420412,0.818657122571,0.820047130187,0.821433483549,
	0.822816222186,0.824195384887,0.825571009720,0.826943134054,0.828311794573,
	0.829677027299,0.831038867606,0.832397350237,0.833752509322,0.835104378390,
	0.836452990391,0.837798377701,0.839140572145,0.840479605004,0.841815507032,
	0.843148308470,0.844478039054,0.845804728029,0.847128404163,0.848449095754,
	0.849766830645,0.851081636231,0.852393539473,0.853702566904,0.855008744674,
	0.856312098429,0.857612653515,0.858910434856,0.860205466994,0.861497774101,
	0.862787379985,0.864074308096,0.865358581537,0.866640223071,0.867919255124,
	0.869195699798,0.870469578875,0.871740913821,0.873009725798,0.874276035666,
	0.875539863991,0.876801231052,0.878060156841,0.879316661078,0.880570763209
	}
};

double always_inline tubeclip(double x) {
    double f = fabs(x);
    f = f * tube_table.istep;
    int i = static_cast<int>(f);
    if (i < 0) {
        f = tube_table.data[0];
    } else if (i >= tube_table.size-1) {
        f = tube_table.data[tube_table.size-1];
    } else {
	f -= i;
	f = tube_table.data[i]*(1-f) + tube_table.data[i+1]*f;
    }
    return copysign(f, x);
}

