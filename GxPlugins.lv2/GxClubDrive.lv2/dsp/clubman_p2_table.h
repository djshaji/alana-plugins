
// clubman_p2_table generated by DK/circ_table_gen.py -- do not modify manually

 // variables used
 // --sig_max  1.400000
 // --table_div  64.415410
 // --table_op  1.000000

struct tableclubman_p2 { // 1-dimensional function table
    float low;
    float high;
    float istep;
    int size;
    float data[];
};

template <int tab_size>
struct tableclubman_p2_imp {
    float low;
    float high;
    float istep;
    int size;
    float data[tab_size];
    operator tableclubman_p2&() const { return *(tableclubman_p2*)this; }
};

 static tableclubman_p2_imp<200> clubman_p2_table __rt_data = {
	0,-0.833333,142.143,200, {
	0.000000000000,-0.011620053351,-0.022129170732,-0.031761825979,-0.040703640904,
	-0.049101549239,-0.057071845433,-0.064706558656,-0.072078500619,-0.079245263190,
	-0.086252384347,-0.093135855491,-0.099924107155,-0.106639581606,-0.113299978297,
	-0.119919240197,-0.126508334918,-0.133075873316,-0.139628599374,-0.146171778142,
	-0.152709502937,-0.159244938597,-0.165780514096,-0.172318075042,-0.178859004416,
	-0.185404318143,-0.191954740735,-0.198510765159,-0.205072700192,-0.211640707879,
	-0.218214833141,-0.224795027177,-0.231381165925,-0.237973064635,-0.244570489340,
	-0.251173165873,-0.257780786943,-0.264393017657,-0.271009499822,-0.277629855269,
	-0.284253688392,-0.290880588080,-0.297510129141,-0.304141873333,-0.310775370072,
	-0.317410156882,-0.324045759635,-0.330681692610,-0.337317458413,-0.343952547776,
	-0.350586439246,-0.357218598790,-0.363848479317,-0.370475520131,-0.377099146313,
	-0.383718768047,-0.390333779881,-0.396943559940,-0.403547469071,-0.410144849941,
	-0.416735026076,-0.423317300843,-0.429890956377,-0.436455252442,-0.443009425243,
	-0.449552686166,-0.456084220463,-0.462603185870,-0.469108711157,-0.475599894617,
	-0.482075802486,-0.488535467296,-0.494977886160,-0.501402018993,-0.507806786670,
	-0.514191069115,-0.520553703345,-0.526893481448,-0.533209148517,-0.539499400553,
	-0.545762882330,-0.551998185245,-0.558203845173,-0.564378340329,-0.570520089174,
	-0.576627448383,-0.582698710906,-0.588732104151,-0.594725788339,-0.600677855062,
	-0.606586326113,-0.612449152622,-0.618264214583,-0.624029320838,-0.629742209577,
	-0.635400549476,-0.641001941526,-0.646543921672,-0.652023964367,-0.657439487122,
	-0.662787856190,-0.668066393455,-0.673272384659,-0.678403089021,-0.683455750359,
	-0.688427609740,-0.693315919714,-0.698117960116,-0.702831055400,-0.707452593428,
	-0.711980045565,-0.716410987898,-0.720743123328,-0.724974304208,-0.729102555175,
	-0.733126095730,-0.737043362095,-0.740853027847,-0.744554022776,-0.748145549458,
	-0.751627097023,-0.754998451650,-0.758259703398,-0.761411249067,-0.764453790883,
	-0.767388330945,-0.770216161482,-0.772938851124,-0.775558227487,-0.778076356536,
	-0.780495519232,-0.782818186065,-0.785046990141,-0.787184699453,-0.789234189000,
	-0.791198413352,-0.793080380212,-0.794883125436,-0.796609689896,-0.798263098465,
	-0.799846341328,-0.801362357698,-0.802814021995,-0.804204132397,-0.805535401695,
	-0.806810450278,-0.808031801073,-0.809201876237,-0.810322995393,-0.811397375178,
	-0.812427129924,-0.813414273248,-0.814360720386,-0.815268291106,-0.816138713043,
	-0.816973625347,-0.817774582530,-0.818543058416,-0.819280450125,-0.819988082044,
	-0.820667209711,-0.821319023602,-0.821944652786,-0.822545168426,-0.823121587117,
	-0.823674874058,-0.824205946051,-0.824715674331,-0.825204887225,-0.825674372655,
	-0.826124880480,-0.826557124695,-0.826971785485,-0.827369511148,-0.827750919895,
	-0.828116601533,-0.828467119039,-0.828803010030,-0.829124788140,-0.829432944316,
	-0.829727948018,-0.830010248358,-0.830280275157,-0.830538439945,-0.830785136893,
	-0.831020743697,-0.831245622398,-0.831460120165,-0.831664570025,-0.831859291553,
	-0.832044591522,-0.832220764515,-0.832388093509,-0.832546850413,-0.832697296595,
	-0.832839683360,-0.832974252422,-0.833101236335,-0.833220858908,-0.833333335600
	}
};

double always_inline clubman_p2clip(double x) {
    double f = fabs(x);
    f = f * clubman_p2_table.istep;
    int i = static_cast<int>(f);
    if (i < 0) {
        f = clubman_p2_table.data[0];
    } else if (i >= clubman_p2_table.size-1) {
        f = clubman_p2_table.data[clubman_p2_table.size-1];
    } else {
    f -= i;
    f = clubman_p2_table.data[i]*(1-f) + clubman_p2_table.data[i+1]*f;
    }
    return copysign(f, x);
}

